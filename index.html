<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sabor do Campo - Doce de Leite Artesanal</title>
    <meta name="description" content="Doce de leite artesanal brasileiro no Jap√£o. Sabores tradicionais e premium com ingredientes de alta qualidade." />
    <meta name="author" content="Sabor do Campo" />

    <meta property="og:title" content="Sabor do Campo - Doce de Leite Artesanal" />
    <meta property="og:description" content="Doce de leite artesanal brasileiro no Jap√£o" />
    <meta property="og:type" content="website" />

    <meta name="twitter:card" content="summary_large_image" />
    
    <!-- SPA 404 Fix -->
    <script>
      // Redirect 404s to index for SPA routing
      (function() {
        var redirect = sessionStorage.redirect;
        delete sessionStorage.redirect;
        if (redirect && redirect !== location.href) {
          history.replaceState(null, null, redirect);
        }
      })();
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Mobile Debug Console -->
    <script>
      (function() {
        // Check if debug mode
        const hasDebug = window.location.search.includes('debug=true') || localStorage.getItem('mobile-debug') === 'true';
        if (!hasDebug) return;
        
        // Save to localStorage
        localStorage.setItem('mobile-debug', 'true');
        
        // Create overlay
        const overlay = document.createElement('div');
        overlay.style.cssText = 'position:fixed;bottom:0;left:0;right:0;max-height:50vh;background:rgba(0,0,0,0.95);color:#0f0;font:11px monospace;padding:10px;overflow-y:auto;z-index:999999;border-top:2px solid #0f0;';
        overlay.innerHTML = '<div style="position:sticky;top:0;background:#000;padding:5px;margin:-10px -10px 10px;border-bottom:1px solid #0f0;display:flex;justify-content:space-between;"><span style="font-weight:bold;">üîç Debug Console</span><div><button onclick="document.getElementById(\'debugLogs\').innerHTML=\'\'" style="background:#0f0;color:#000;border:none;padding:3px 10px;border-radius:3px;font-weight:bold;margin-right:5px;">Clear</button><button onclick="localStorage.setItem(\'mobile-debug\',\'false\');this.parentElement.parentElement.parentElement.remove();" style="background:#f00;color:#fff;border:none;padding:3px 10px;border-radius:3px;font-weight:bold;">‚úï</button></div></div><div id="debugLogs"></div>';
        document.body.appendChild(overlay);
        
        // Add log function
        window.addDebugLog = function(msg, color) {
          const logs = document.getElementById('debugLogs');
          if (!logs) return;
          const entry = document.createElement('div');
          entry.style.cssText = 'padding:3px 0;border-bottom:1px solid #333;color:' + (color || '#0f0') + ';word-break:break-word;';
          entry.textContent = '[' + new Date().toLocaleTimeString('pt-BR') + '] ' + msg;
          logs.appendChild(entry);
          overlay.scrollTop = overlay.scrollHeight;
        };
        
        // Intercept console
        const ol = console.log, oe = console.error, ow = console.warn;
        console.log = function() { ol.apply(console, arguments); window.addDebugLog(Array.from(arguments).map(a => typeof a === 'object' ? JSON.stringify(a) : String(a)).join(' '), '#0f0'); };
        console.error = function() { oe.apply(console, arguments); window.addDebugLog('‚ùå ' + Array.from(arguments).map(a => typeof a === 'object' ? JSON.stringify(a) : String(a)).join(' '), '#f00'); };
        console.warn = function() { ow.apply(console, arguments); window.addDebugLog('‚ö†Ô∏è ' + Array.from(arguments).map(a => typeof a === 'object' ? JSON.stringify(a) : String(a)).join(' '), '#fa0'); };
        
        console.log('üöÄ Mobile Debug Console ativado!');
      })();
    </script>
  </body>
</html>
